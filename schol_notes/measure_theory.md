---
title: "Introductory measure theory"
---

## Algebras and ``\sigma``-algebras

An **algebra** for our purposes here is a non-empty collection of subsets of some set ``E`` that is closed under

 - complements
 - finite unions
 - finite intersections

A **``\sigma``-algebra** is like an algebra, but closed under *countable* unions/intersections instead of merely finite unions/intersections.

A ``\sigma``-algebra on ``E`` must contain ``\emptyset`` and ``E``. The ``\sigma``-algebra consisting only of these sets is the **trivial ``\sigma``-algebra**, while the powerset is the **discrete ``\sigma``-algebra**.

The intersection of an arbitrary collection of ``\sigma``-algebras is again a ``\sigma``-algebra (prove it). This allows us to *generate* ``\sigma``-algebras from an arbitrary collection of subsets: if ``\mathcal{C}`` is any collection of subsets of ``E``, the **``\sigma``-algebra generated by ``\mathcal{C}``** is defined to be the intersection of all ``\sigma``-algebras on ``E`` that contain it. This will be deoted by ``\sigma \mathcal{C}``.

## Borel algebras

When ``E`` is a topological space, the ``\sigma``-algebra generated by its topology is called the **Borel ``\sigma``-algebra** on ``E``, and will be denoted by ``\mathcal{B}(E)``. The elements of this ``\sigma``-algebra are called **Borel sets**.


## Real borel algebras

Let us denote the Borel algebra of ``\mathbb{R}^d`` as ``\mathcal{B}(\mathbb{R}^d)``.

Then it can be proven that ``\mathcal{B}(\mathbb{R})`` is identically the ``\sigma``-algebra generated from each of the following sets:

 1. ``X_1 = \text{all closed subsets of } \mathbb{R}``
 2. ``X_2 = \text{all intervals } (-\infty, b]``
 3. ``X_3 = \text{all intervals } (a, b]``

*Proof:* It suffices to prove that

```math
    \sigma X_3 \subseteq \sigma X_2 \subseteq \sigma X_1 \subseteq \mathcal{B}(\mathbb{R}) \subseteq \sigma X_3
```

Furthermore, for any sets ``A`` and ``B``, to prove ``\sigma A \subseteq \sigma B`` it suffices to show ``A \subseteq \sigma B``, because this implies that ``\sigma B`` is a ``\sigma``-algebra containing ``A``, implying ``\sigma A \subseteq \sigma B``.

To see that ``X_3 \subseteq \sigma X_2``, note that ``(a, b]`` is the complement of ``(- \infty, a] \cup (b, \infty)``.

Next, we can actually prove that ``X_2 \subseteq X_1`` because any interval ``(- \infty, b]`` is closed.

To prove ``X_1 \subseteq \mathcal{B}(\mathbb{R})``, recall that ``\mathcal{B}(\mathbb{R})`` is the ``\sigma``-algebra generated by the open sets, and that ``\sigma``-algebras are closed under complements. Also recall (from basic topology) that a set is closed iff its complement is open.

Finally, to prove the open subsets of ``\mathbb{R}`` are a subset of ``\sigma X_3``, note that every open subset of ``\mathbb{R}`` is a countable disjoint union of  open intervals ``(a, b)`` (see notes on the topology of the reals), and that any open interval ``(a, b)`` is given by a union:

```math
    (a, b) = \bigcup_1^{\infty} (a, b - 1/n]
```

So each open interval `(a, b)` is in ``\sigma X_3``, which means all countable unions (and hence all open subsets) are in ``\sigma X_3`` as well.



## Measurable space

A **measurable space** is a pair ``(X, \mathcal{A})`` where ``X`` is a set and ``\mathcal{A}`` is a ``\sigma``-algebra. The elements of ``\mathcal{A}`` are called the **measurable sets**.

## Outer measure, measure

An **outer measure** on any set ``X`` is a function ``\mu^{\ast}: \text{Pow } X \to [0, \infty]`` that obeys:

 - ``\mu^{\ast}(\emptyset) = 0``
 - ``A \subseteq B \subseteq X`` implies ``\mu^{\ast}(A) \leq \mu^{\ast}(B)``
 - If ``\{A_n\}`` is any countable collection of subsets of ``X``, then ``\mu^{\ast}(\bigcup_1^{\infty} A_n) \leq \sum_1^{\infty} \mu^{\ast}(A_n)``

A **measure** on a measurable space ``(X, \mathcal{A})`` is a function ``\mu: \mathcal{A} \to [0, \infty]`` that obeys:

 - ``\mu(\emptyset) = 0``
 - If ``\{A_n\}`` is any countable, pairwise disjoint collection of sets in ``\mathcal{A}``, then ``\mu(\bigcup_1^{\infty} A_n) = \sum_1^{\infty} \mu(A_n)``

To summarize the differences between a measure and an outer measure: outer measures are defined on a power set and are monotone and countably subadditive, while measures are defined on the ``\sigma``-algebra of some measurable space and have countable additivity (for disjoint collections).

A **measure space** is a triple ``(X, \mathcal{A}, \mu)`` such that ``(X, \mathcal{A})`` is a measurable space and ``\mu`` is a measure on ``(X, \mathcal{A})``.

If ``(X, \mathcal{A}, \mu)`` is a measure space and ``A, B \in \mathcal{A}`` are such that ``A \subseteq B``, then ``\mu(A) \leq \mu(B)``. This is because

```math
    \mu(B) = \mu(A) + \mu(B-A)
```

by countable additivity.

## finite and ``\sigma``-finite measures

A measure ``\mu`` on ``(X, \mathcal{A})`` is a **finite measure** if ``\mu(X) < \infty``, and is **``\sigma``-finite** if there is a countable collection ``\{A_i\}`` of sets in ``\mathcal{A}`` with ``\mu(A_i) < \infty`` for each ``i``, such that ``X = \bigcup_1^{\infty} A_i``.

## Null sets and properties that hold almost everywhere

For any measure space ``(X, \mathcal{A}, \mu)``, ``A \in \mathcal{A}`` is a **null set** when ``\mu(A) = 0``. A property on ``X`` holds **almost everywhere** (or is **a.e.**) if the set where it doesn't hold is a null set.

## Measurable set (w.r.t. outer measure)

``B \subseteq X`` is **measurable** with respect to outer measure ``\mu^{\ast}`` on ``X`` when

```math
    \mu^{\ast}(A) = \mu^{\ast}(A \cap B^c) + \mu^{\ast}(A \cap B)
```

is true for *every* ``A \subseteq X``.

Note that by sub-additivity, every ``A`` and ``B`` have

```math
    \mu^{\ast}(A) \leq \mu^{\ast}(A \cap B^c) + \mu^{\ast}(A \cap B)
```

## Measurable sets and outer measure zero

If ``\mu^{\ast}`` is any outer measure for ``X``, any subset ``B`` such that ``\mu^{\ast}(B) = 0`` or ``\mu^{\ast}(B^c) = c`` is ``\mu^{\ast}``-measurable.

*Proof:*  If ``\mu^{\ast}(B) = 0`` then ``\mu^{\ast}(A \cap B) = 0`` (by monotonicity), so

```math
    \mu^{\ast}(A) \geq \mu^{\ast}(A \cap B^c) + \mu^{\ast}(A \cap B)
```

is true by simple monotonicity since ``A \cap B^c \subseteq A``. If instead ``\mu^{\ast}(B^c) = 0``, then ``\mu^{\ast}(A \cap B^c) = 0`` again, and we again have the inequality.


A simple corollary of this is that ``\emptyset`` and ``X`` are ``\mu^{\ast}``-measurable for any outer measure ``\mu^{\ast}``.

## Collection of measurable sets is an algebra
If ``X`` is a set and ``\mu^{\ast}`` is an outer measure on ``X``, then the collection of all ``\mu^{\ast}``-measurable sets is an algebra on ``X``.

*Proof:* It contains ``\emptyset`` and ``X`` by previously proven propositions, and is clearly closed under complements. If ``S`` and ``T`` are measurable sets, then

```math
    \begin{align}
    \mu^{\ast}(A) &= \mu^{\ast}(A \cap S) + \mu^{\ast}(A \cap S^c) \\
                  &= \mu^{\ast}(A \cap S) + \mu^{\ast}(A \cap S^c \cap T) + \mu^{\ast}(A \cap S^c \cap T^c) \\
                  &= \mu^{\ast}(A \cap (S \cup T) \cap S) + \mu^{\ast}(A \cap (S \cup T) \cap S^c) + \mu^{\ast}(A \cap S^c \cap T^c) \\
                  &= \mu^{\ast}(A \cap (S \cup T)) + \mu^{\ast}(A \cap (S \cup T)^c)
    \end{align}
```

## Countable union of pairwise disjoint sets is measurable
If ``\mu^{\ast}`` is an outer measure and ``(A_n)`` is a countable collection of pairwise disjoint ``\mu^{\ast}``-measurable sets, then ``\bigcup_1^{\infty} A_n`` is measurable, and

```math
    \mu^{\ast}(A) = \sum_1^{\infty} \mu^{\ast}(A \cap S_i) + \mu^{\ast}(A \cap (\bigcup_1^{\infty} S_i)^c)
```

for all  ``A``.

To prove it, we start out by proving that

```math
    \mu^{\ast}(A) = \sum_1^k \mu^{\ast}(A \cap S_i) + \mu^{\ast}(A \cap (\bigcup_1^k S_i)^c)
```

for all ``k``. We (of course) prove this by induction. It's true for ``k = 1``, and if it's true for any ``k``, then we have 

```math
    \mu^{\ast}(A \cap (\bigcup_1^k S_i)^c) = \mu^{\ast}(A \cap (\bigcup_1^k S_i)^c \cap S_{k+1}) + \mu^{\ast}(A \cap (\bigcup_1^k S_i)^c \cap S_{k+1}^c)
```

But ``\mu^{\ast}(A \cap (\bigcup_1^k S_i)^c \cap S_{k+1}) = \mu^{\ast}(A \cap S_{k+1})`` since ``S_{k+1}`` is disjoint from every other ``S_i``. This finishes the induction step.

Because each ``\bigcup_1^k S_i \subseteq \bigcup_1^{\infty} S_i``, we have (by monotonicity):

```math
    \mu^{\ast}(A) \geq \sum_1^k \mu^{\ast}(A \cap S_i) + \mu^{\ast}(A \cap (\bigcup_1^{\infty} S_i)^c)
```

holding for all ``k``. So by the order limit theorem

```math
    \mu^{\ast}(A) \geq \sum_1^{\infty} \mu^{\ast}(A \cap S_i) + \mu^{\ast}(A \cap (\bigcup_1^{\infty} S_i)^c)
```

Then, by subadditivity and monotonicity,

```math
    \begin{align}
    \sum_1^{\infty} \mu^{\ast}(A \cap S_i) + \mu^{\ast}(A \cap (\bigcup_1^{\infty} S_i)^c) & \geq \mu^{\ast}(A \cap \bigcup_1^{\infty} S_i) + \mu^{\ast}(A \cap (\bigcup_1^{\infty} S_i)^c) \\
                  & \geq \mu^{\ast}(A)
    \end{align}
```


## Recovering a measure from an outer measure

If ``X`` is a set and ``\mu^{\ast}`` is an outer measure on ``X``, then the collection of all ``\mu^{\ast}``-measurable sets is a ``\sigma``-algebra on ``X`` and when ``\mu^{\ast}`` is restricted to the ``\mu^{\ast}``-measurable sets, it becomes a measure.

*Proof:* The collection ``M_{\mu^{\ast}}`` of ``\mu^{\ast}``-measurable sets was previously proved to be an algebra. To finish the proof that ``M_{\mu^{\ast}}`` is a ``\sigma``-algebra, we need to prove its closure under countable unions.

But for any countable collection ``(A_n)`` of measurable sets, ``\bigcup_1^{\infty} A_n = \bigcup_1^{\infty} B_n``, where ``B_1 := A_1`` and ``B_n := A_n - \bigcup_1^{n-1} B_i``. But ``(B_n)`` is a pairwise disjoint collection, so ``\bigcup_1^{\infty} B_i`` is measurable.

This proves that ``M_{\mu^{\ast}}``, the collection of ``\mu^{\ast}``-measurable sets is a ``\sigma``-algebra.

To prove that ``\mu``, the restriction of ``\mu^{\ast}`` to ``M_{\mu^{\ast}}`` is a measure, we must prove countable additivity for disjoint collections of sets. But this is an immediate corollary from the last proposition, since

```math
    \mu^{\ast}(\bigcup_1^{\infty} A_i) = \sum_1^{\infty} \mu^{\ast}((\bigcup_1^{\infty} A_i) \cap A_i) + \mu^{\ast}((\bigcup_1^{\infty} A_i) \cap (\bigcup_1^{\infty} A_i)^c) = \sum_1^{\infty} \mu^{\ast}(A_i)
```

## Measurable functions

If ``(X, \mathcal{A})`` is a measurable space, ``A \in \mathcal{A}`` and ``f: A \to [- \infty, \infty]``, then these conditions are equivalent:

 a. for all ``t \in \mathbb{R}``, ``\{f \leq t\} := \{x \in A : f(x) \leq t\} \in \mathcal{A}``
 b. for all ``t \in \mathbb{R}``, ``\{f < t\} := \{x \in A : f(x) < t\} \in \mathcal{A}``
 c. for all ``t \in \mathbb{R}``, ``\{f \geq t\} := \{x \in A : f(x) \geq t\} \in \mathcal{A}``
 d. for all ``t \in \mathbb{R}``, ``\{f > t\} := \{x \in A : f(x) > t\} \in \mathcal{A}``

*Proof:* ``\{f < t\} = \bigcup_n \{f \leq t - 1/n\}``, and similarly ``\{f > t\} = \bigcup_n \{f \geq t + 1/n\}``. So (a) implies (b) and (c) implies (d). Also, ``\{f < t\}`` is the complement in ``A`` of ``\{f \geq t\}``,a nd ditto for ``\{f > t\}`` and ``\{f \leq t\}``, which establishes that (b) implies (c) and (d) implies (a).


A function ``f: A \to [- \infty, \infty]`` is **``\mathcal{A}``-measurable** (or just **measurable**) if it satisfies any of the conditions (a) through (d) in the last proposition. For the case of ``X = \mathbb{R}^d`` and ``\mathcal{A} = \mathcal{B}(\mathbb{R}^d)`` a measurable function is said to be **Borel-measurable** or a **Borel function**. Any function measurable w.r.t. the Lebesgue outer measure is called **Lebesgue measurable**.

### Alternate take on measurable functions

A **simple measurable function** (or just **simple function**) for a measurable space ``(X, \mathcal{A})`` is a function ``f: X \to \mathbb{R}`` such that there are ``a_1, \ldots, a_n \in \mathbb{R}`` and ``A_1, \ldots, A_n \in \mathcal{A}`` such that

```math
    f = \sum_1^k a_i \text{ind}(A_i)
```

where ``\text{ind}(A_i)`` is the indicator function for ``A_i``.

A function ``f: A \to [0, \infty]`` is **``\mathcal{A}``-measurable** (or just **measurable** when there is some sequence ``(f_n)`` of simple functions that pointwise converges to ``f``, and such that ``(f_n(x))_{n \in \mathbb{N}}`` is a non-decreasing sequence for each ``x``.

TODO

## Dynkin systems and stuff (TODO: organize this)

### p-system, d-system

A **p-system** on ``E`` is any collection of subsets that is closed under finite intersection. A **d-system** on ``E`` is any collection ``\mathcal{D}`` of subsets obeying

 - ``E \in \mathcal{D}``
 - if ``A, B \in \mathcal{D}`` and ``B \subseteq A``, then ``A - B \in \mathcal{D}``
 - if ``(A_n)`` is a sequence of sets and ``A_k \subseteq A_{k+1}`` for all ``k``, then ``\bigcup_n A_n \in \mathcal{D}``

## p-systems, d-systems, and ``\sigma``-algebras

A collection of subsets of ``E`` is a ``\sigma``-algebra on ``E`` iff it is simultaneously a p-system and d-system for ``E``.

Clearly any ``\sigma``-algebra is both a p-system and d-system. Conversely, any system ``\mathcal{C}`` that is both a p-system and a d-system is closed under complements by the first two properties. If ``\{A_n : n \in \mathbb{N}\}`` is any countable collection of sets, then we have

```math
    \bigcup_0^{\infty} A_n = \bigcup_0^{\infty} B_n
```

where ``B_n := \bigcup_1^n A_n``. This reformulation has the advantage of the ``B_n``'s being increasing, so we can apply the third p-system axiom to get ``\bigcup_0^{\infty} A_n \in \mathcal{D}``, so ``\mathcal{C}`` is closed under countable unions. These two properties prove ``\mathcal{C}`` is closed under countable intersection, so ``\mathcal{C}`` is a ``\sigma``-algebra.


### Dynkin's ``\pi-\lambda`` theorem?

#### A lemma

Here's a lemma that Çinlar states: if ``\mathcal{D}`` is a d-system and ``D \in \mathcal{D}``, then ``\hat{\mathcal{D}} := \{A \in \mathcal{D} : A \cap D \in \mathcal{D}\}`` is also a d-system for ``D``.

Clearly ``D \in \hat{\mathcal{D}}``. If ``A, B \in \hat{\mathcal{D}}`` and ``B \subseteq A``, then since ``A \cap D, B \cap D \in \mathcal{D}``, we have ``A \cap D - B \cap D = (A - B) \cap D \in \mathcal{D}`` (since ``B \cap D \subseteq A \cap D``), so ``A - B \in \hat{\mathcal{D}}``

Finally, if ``(A_n)`` is an increasing sequence in ``\hat{\mathcal{D}}``, then ``(A_n \cap D)`` is an increasing sequence in ``\mathcal{D}``, so ``(\bigcup_0^{\infty} A_n) \cap D = \bigcup_0^{\infty} A_n \cap D \in \mathcal{D}``, so  ``\bigcup_0^{\infty} A_n \in \hat{\mathcal{D}}``.

#### The proof

The statement is: any d-system containing some p-system also contains the ``\sigma``-algebra generated from the p-system.

We let ``\mathcal{I}`` be a p-system (for some set ``E``) and ``\mathcal{D}`` be the smallest d-system (for ``E``) containing ``\mathcal{I}``. The aim is to prove that ``\sigma \mathcal{I} \subseteq \mathcal{D}`` (we already have the other direction since ``\sigma \mathcal{I}`` is necessarily both a d-system and a p-system).

But ``\sigma \mathcal{I}`` is the smallest ``\sigma``-algebra containing ``\mathcal{I}``, so it would suffice to prove that ``\mathcal{D}`` is a ``\sigma``-algebra. So we need only prove that it's a p-system.
Let ``A \in \mathcal{I}``. Then

```math
    \mathcal{D}_A := \{B \in \mathcal{D} : B \cap A \in \mathcal{D} \}
```

is also a d-system by the previous lemma. But ``\mathcal{D}_A`` contains ``\mathcal{I}`` since for all ``B \in \mathcal{I}``, ``B \cap A \in \mathcal{I}`` (definition of a p-system). So actually ``\mathcal{D}_A = \mathcal{D}``, or in other words the intersection of any ``\mathcal{D}``-set with any ``A \in \mathcal{I}`` is in ``\mathcal{D}``.

But this implies that for any ``S \in \mathcal{D}``, ``\mathcal{D}_S`` is a d-system containing ``\mathcal{I}``. So it must be a superset of ``\mathcal{D}``, and so by definition *is* ``\mathcal{D}``. This establishes that ``\mathcal{D}`` is a p-system.

#### Notes on the name

Çinlar calls this the "monotone class theorem", but that doesn't seem to square with what's on wikipedia. Wikipedia seems to call this theorem (first proved by Dynkin) the "``\pi-\lambda`` theorem" instead (it seems an alternate name for p-system is ``\pi``-system, and an alternate name for d-system is ``\lambda``-system)
